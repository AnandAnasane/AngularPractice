<div class="container">
    <h1 class="text-center bg-secondary p-3 text-white">API Fetching (GET, POST, PUT, DELETE )</h1>
</div>
<div class="container">
    <div class="container d-flex justify-content-center">
        <h4 class="text-center bg-primary rounded p-2 text-white col-6 my-3">UPDATE(put) and DELETE METHOD</h4>
    </div>
    <div class="row">
        <div class="col-7">
            <h4 class="bg-success p-2 text-white rounded">Department List</h4>
            <table class="col-12 table-success table-bordered">
                <thead class=" text-center">
                    <tr>
                        <th>Sr.</th>
                        <th>Department Name</th>
                        <th>City</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    @for (item of deptList; track $index) {
                    <tr class="text-center">
                        <td>{{$index+1}}</td>
                        <td>{{item.departmentName}}</td>
                        <td>{{item.departmentLogo}}</td>
                        <button class="btn btn-primary  m-2" (click)="onEdit(item)">Edit</button>
                        <button class="btn btn-danger" (click)="onDelete(item.departmentId)">Delete</button>
                    </tr>
                }
                </tbody>
            </table>
        </div>
        <div class="col-4">
            <h4 class="bg-secondary p-2 text-white rounded">New Department</h4>
            <div class="col-12 border p-3">
                Department name
                <input type="text" [(ngModel)]="departmentObj.departmentName" class="col-12">
                Department City
                <input type="text" [(ngModel)]="departmentObj.departmentLogo" class="col-12">
                <div class="text-center mt-3">
                    <button type="reset" class="btn btn-secondary me-3 col-5" (click)="resetform()">Reset</button>
                    @if(departmentObj.departmentId == 0){
                        <button type="submit" class="btn btn-success  col-5" (click)="onSave()">Save</button>
                    }@else {
                        <button type="submit" class="btn btn-warning  col-5" (click)="onUpdate()">Update</button>
                    }
                </div>
            </div>
        </div>
    </div>
</div>